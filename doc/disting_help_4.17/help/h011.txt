This algorithm is a delay/echo effect, primarily intended for processing audio signals, where the delay time is set from a clock pulse. It operates at a quarter of the standard sample rate (i.e. at about 19kHz) and offers a maximum delay time of about 1700ms.

Input X is the signal input. Any audio signal can be fed in here.

Input Y is the clock input. Any clock pulse in excess of 1V can be used. The time between rising trigger edges is used to set the delay time. If the time between triggers is greater than the maximum delay time, the time is divided by two until it is small enough. This way, you always end up with a rhythmically useful delay time.

The Z knob/CV controls the feedback, from zero to slightly more than 100%. Outputs A & B carry signals according to parameter 1:

0 A is mix; B is delay only.

1 A & B are mix.

2 A & B are delay only.

'Mix' is a mix of the dry (undelayed) signal and the delay effect. The amount of delay in the mix rises in direct proportion to the amount of feedback.

'Delay only' is the delayed signal only. Use this and the input signal, plus an external mixer, if you need more flexibility in the dry/wet balance than is offered by the mixed mode.

The first parameter applies a multiplier to the delay time, according to the following table:

-15 1/64

-14 1/48

-13 1/32

-12 1/24

-11 1/16

-10 1/12

-9 1/8

-8 1/6

-7 3/16

-6 1/4

-5 5/16

-4 1/3

-3 3/8

-2 1/2

-1 3/4

1 x1.5

2 x2

3 x3

4 x4

5 x5

6 x6

7 x8

0 x1

8 x16
